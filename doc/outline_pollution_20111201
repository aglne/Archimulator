Shared LLC pollution by helper threaded data prefetching for CMPs

1. purpose
	Helper threaded data prefetching can reduce the 

2. simulator:
	we uses an in-house multicore architectural simulator called Archimulator in our experiments in this work.

3. simulation environment settings

4. design and implementation (in LastLevelCacheHtRequestCachePollutionProfilingCapability)
	event to consider: CoherentCacheServiceNonblockingRequestEvent
		requested address
		requester memory hierarchy access
		line found in LLC
		a boolean value indicating whether the request hits in the LLC
		a boolean value indicating whether the request needs to evict some LLC line
	
	first, we need to identify the LLC request sent from the helper thread.
	
	second, we need to treat llc misses and servicing llc requests.
	
	third, implementation in Archimulator: 
		Map<Integer, Map<Integer, LastLevelCacheLineHtRequestState>> htRequestStates
		enum LastLevelCacheLineHtRequestState {
			INVALID,
			HT,
			MT
		}
		
		EvictableCache<HtRequestVictimCacheLineState, CacheLine<HtRequestVictimCacheLineState>> htRequestVictimCache
		enum HtRequestVictimCacheLineStateType {
			INVALID,
			NULL,
			DATA
		}
		
		dispatching and handling of CoherentCacheServiceNonblockingRequestEvent:
			dispatching in CoherentCache.AbstractFindAndLockProcess.doLockingProcess(..)
			handling in LastLevelCacheHtRequestCachePollutionProfilingCapability.serviceRequest(..)
			
-----------------------------

on request:			
			
if(hitInLLC && requesterIsHt) {
	totalHtRequests++;
}

if(requesterIsHt && hitInLLC && hasEviction) {
	llc.setHt(set, llcLine.way);
	victimCache.insertNullEntry(set);
}
else if(requesterIsHt && !hitInLLC && hasEviction && !lineFoundIsHt) {
	llc.setHt(set, llcLine.way);
	victimCache.insertDataEntry(set, llcLine.tag);
}
else if(requesterIsHt && !hitInCache && hasEviction && lineFoundIsHt) {
}
else if(!requesterIsHt && !hitInCache && hasEviction && lineFoundIsHt) {
	llc.setMt(set, llcLine.way);
	victimCache.removeLru(set);
}
else if(!requesterIsHt && !lineFoundIsHt) {
	if(htRequestFound()) {
		victimCache.removeLru(set);
		victimCache.insertDataEntry(set, llcLine.tag);
	}
}
			
-----------------------------

On reference:

if(!mtHit && !htHit && vtHit) {
	badHtRequests++;
	victimCache.setLru(set, vtLine.way);
}
else if(!mtHit && htHit && !vtHit) {
	llc.setMt(set, llcLine.way);
	goodHtRequests++;
	removeLru(set);
}
else if(!mtHit && htHit && vtHit) {
	llc.setMt(set, llcLine.way);
	victimCache.setLru(set, vtLine.way);
	victimCache.removeLru(set);
}
else if(mtHit && !htHit && vtHit) {
	victimCache.setLru(set, vtLine.way);
}
			
-----------------------------
	
5. result
mst 1000, detailed simulation
mst 10000, fast forward + detailed simulation

conclusion
